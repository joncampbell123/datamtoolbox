<html><head><script language="JavaScript">var PUpage="76001067"; var PUprop="geocities"; </script><script language="JavaScript" src="SYSCOM_files/pu5geo.js"></script><script language="JavaScript"> var thGetOv="http://themis.geocities.yahoo.com/themis/h.php"; var thCanURL="http://us.geocities.com/thestarman3/asm/mbr/SYSCOM.htm"; var thSpaceId="76001067"; var thIP="206.63.253.83"; var thTs="1107136423"; var thCs="a221edbd1e54ed5f9e5c5b1cd3eee0a3";</script><!-- text above generated by server. PLEASE REMOVE --><!-- Copyright(C)2001,2002 by The Starman --><title>Notes on SYS.COM</title>
<meta http-equiv="keywords" content="SYS.COM, SYS, OS, Boot Record, Assembly, code, boot, boot-up">
<meta http-equiv="description" content="Notes on various versions of SYS.COM">
<meta name="COPYRIGHT" content="© 2001,2003 by Daniel B. Sedory">
<meta name="robots" content="ALL">
<meta name="revisit-after" content="30 days">
<meta name="distribution" content="Global">
<meta name="robots" content="INDEX">
<meta name="revisit-after" content="30">
<link href="SYSCOM_files/div.css" rel="stylesheet" type="text/css"></head><noscript><link rel="stylesheet" href="http://themis.geocities.yahoo.com/jsoff.css?thIP=206.63.253.83&thTs=1107136423"></noscript>


<body bgcolor="#ffffff"><br><br>
<center>
  <font size="7"><b><font face="Times New Roman, Times, serif">Detailed Notes 
  on<br>
  SYS.COM</font></b></font>
</center>
<p align="center"><font face="Times New Roman, Times, serif" size="5"><b>Copyright©2003 
  by Daniel B. Sedory</b></font></p>
<p>&nbsp;</p>
<p><font size="5"><b><font face="Times New Roman, Times, serif">A Reference Guide 
  for the Boot Record pages:</font></b></font> <font face="Times New Roman, Times, serif"><br>
  <br>
  <b>&nbsp;&nbsp;<a href="http://www.geocities.com/thestarman3/asm/mbr/DOS50FDB.htm" target="50fdb">The MSDOS 5.0 Floppy Disk 
  Boot Record</a> created by the MS-DOS ( 5.0 through 6.22 )<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SYS.COM or&nbsp;FORMAT.COM</b> files that come 
  with those DOS distributions<b>.
  <!--<BR> <a href="MSDOS50.htm"> -->
  <!-- &nbsp;The MSDOS 5.0 ( 5.0 through 6.22) Boot Record created by SYS or FORMAT.COM -->
  <!--<BR> <a href="MSWIN40.htm"> -->
  <!-- &nbsp;The MSWIN4.0 (Windows 95A) Boot Record created by its SYS or FORMAT.COM -->
  <br><br>
  &nbsp;&nbsp;<a href="http://www.geocities.com/thestarman3/asm/mbr/MSWIN41.htm" target="41">The "MSWIN4.1" (Windows 
  95B/98/98SE/ME) Boot Record</a> created by either the<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SYS.COM or FORMAT.COM</b> files that come with 
  those Windows distributions<b>.</b><br>
  <br>
  </font>&nbsp;<font face="Arial, Helvetica, sans-serif" size="4">Confused? <a href="http://www.geocities.com/thestarman3/Feedback.html" target="FF">Send 
  me an email</a> if you have a specific question about the MBR or other Boot 
  Records...</font></p>
<hr>
<h2><font face="Times New Roman, Times, serif">Versions of SYS.COM used in the 
  Boot Record Studies:</font></h2>
<pre><font size="4"><b><font face="Courier New, Courier, mono">   OS Type     Filename  File Size   Release  Date
 -----------   --------  ---------  ---------------
 <a href="#50">MS-DOS 5.0</a>    SYS.COM    13,440    04-09-91  5:00a
 <a href="#60">MS-DOS 6.0</a>    SYS.COM     9,379    03-10-93  6:00a

 <a href="#62">MS-DOS 6.2</a>    SYS.COM     9,432    09-30-93  6:20a
 MS-DOS 6.22   SYS.COM     9,432    05-31-94  6:22a
 <a href="#70">Windows 95</a></font></b><font face="Courier New, Courier, mono">(A)
(MS-DOS <b>7.0</b>)<b>   SYS.COM    13,239    07-11-95  9:50a
 <a href="#71">Windows 95B</a></b>
(MS-DOS <b>7.1</b>)<b>   SYS.COM    18,967    08-24-96 11:11a
 Windows 98</b>
(MS-DOS <b>7.1</b>)<b>   SYS.COM    18,967    05-11-98  8:01p
 Windows 98 SE</b>
(MS-DOS <b>7.1</b>)<b>   SYS.COM    18,967    04-23-99 10:22p
 <a href="#80">Windows ME</a></b>
(MS-DOS <b>8.0</b>)<b>   SYS.COM    21,943    06-08-00  5:00p</b></font><b>


</b></font></pre>
<p><font size="5"><b><u><font face="Times New Roman, Times, serif">General Comments 
  on all versions of SYS.COM</font></u></b></font><br>
  <br>
  <font face="Arial" size="4">&nbsp; &nbsp; <font face="Arial, Helvetica, sans-serif">The 
  DOS versions of SYS.COM (MS-DOS 6.22 and earlier) were often compressed (such 
  as MS-DOS 5.0) on the install diskettes, or first packed with <b>PKlite</b> 
  (version <b>1.15</b>) and then compressed too; which helped to save space on 
  floppy disks when Microsoft had to copy multiple diskettes for each version. 
  However, with the release of Windows 95 which was mostly distributed on a</font><font face="Arial" size="4"><font face="Arial, Helvetica, sans-serif"> 
  CD</font></font><font face="Arial, Helvetica, sans-serif"> (Compact Disc), Microsoft 
  stopped <i>packing</i> its SYS.COM files.</font></font></p>
<p><font face="Arial, Helvetica, sans-serif" size="4">The boot record code found 
  in all SYS.COM programs is the same as that found in <a href="http://www.geocities.com/thestarman3/asm/mbr/FORMAT.htm" target="fmt">FORMAT.COM</a> 
  for the same DOS version. However, the writing of this boot code to some media 
  is <b><i>not</i></b> &nbsp;the primary function of the SYS.COM program! For 
  example,&nbsp;if you partition a D: drive with FDISK and then try running SYS.COM 
  on that drive, it will display this error message:<br>
  <br>
  <font face="Courier New, Courier, mono"><b>&nbsp;&nbsp;&nbsp;&nbsp;Invalid media 
  type reading drive D<br>
  &nbsp;&nbsp;&nbsp;&nbsp;Abort, Retry, Fail?</b></font><br>
  <br>
  SYS.COM cannot write a boot record to a newly partitioned drive. What about 
  a blank floppy diskette? You'll get the same error message!<br>
  <b><i>But</i></b> if you start out with a diskette that has already been formatted 
  and then zero-out most of the code in the boot record, you'll see that some 
  new code is written to the boot record when you run SYS.COM on that floppy disk. 
  Therefore, the boot record code is included in SYS.COM <b>only</b> to make sure 
  that running it against a non-bootable partition or diskette (that still has 
  a <i>healthy</i> file system on it!) will <b> <i>not</i></b> fail to boot next 
  time due to an error in the the existing boot record's code section. <span style="background-color: rgb(255, 255, 0);"> 
  &nbsp;The main purpose of SYS.COM is to copy <b>"</b>system files and the 
  Command interpreter<b>"</b> to a diskette or partition that has already 
  been formatted.&nbsp;</span></font></p>
<p><font face="Arial, Helvetica, sans-serif" size="4">For all versions of SYS.COM 
  since MS-DOS 5.0 (except for <i>Windows ME</i> which does <b><i>not</i></b> 
  function the same as the others; see <a href="#80">Windows ME</a> below), entering</font><font face="Arial" size="4"> 
  <font face="Verdana" size="4"><b><font face="Verdana, Arial, Helvetica, sans-serif">SYS 
  /?</font></b></font> <font face="Arial, Helvetica, sans-serif">at a DOS prompt 
  <b>displays</b>:</font></font></p>
<div align="center">
  <table bgcolor="#000000" cellpadding="7">
    <tbody><tr><td>
        <pre><font color="#cccccc" face="Courier New, Courier, mono" size="2"><b>Copies MS-DOS system files and command interpreter to a disk you specify.</b>

<b>SYS [drive1:][path] drive2:

  [drive1:][path] Specifies the location of the system files.
  drive2:         Specifies the drive the files are to be copied to.</b></font></pre>
      </td>
</tr></tbody></table></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><u><font face="Times New Roman, Times, serif">Comments on Specific Versions 
  of SYS.COM</font></u></h2>
<p><a name="50"></a></p>
<p><b><u><font face="Times New Roman, Times, serif" size="5">MS-DOS 5.0</font></u></b><br>
  <br>
  <font face="Arial, Helvetica, sans-serif" size="4">Although this SYS.COM program 
  was not <i>packed;</i> &nbsp;it did start out as a <i>compressed</i> file of 
  9,672 bytes on the install diskette (as "SYS.CO_") which was expanded 
  during installation to a size of 13,440 bytes. Beginning at offset <b><font face="Courier New, Courier, mono" size="5">2cd0</font></b> 
  hex, you'll find the phrase <font face="Times New Roman, Times, serif" size="5">&#8220;</font><font face="Verdana, Arial, Helvetica, sans-serif">MS 
  DOS Version <b>5.00</b> (C)Copyright 1981-<b>1991</b></font><font face="Times New Roman, Times, serif" size="5">&#8221;</font>; 
  with its embedded floppy disk Boot Record (of 512 bytes) beginning at offset 
  <b><font face="Courier New, Courier, mono" size="5">2e42</font></b> hex.</font></p>
<p><a name="60"></a></p>
<p><br>
</p>
<p><b><u><font face="Times New Roman, Times, serif" size="5">MS-DOS 6.0</font></u></b><br>
  <br>
  <font face="Arial, Helvetica, sans-serif" size="4">This SYS.COM program was 
  packed with PKLITE 1.15 and expands to a size of 13,760 bytes if you <i>unpack</i> 
  it. In that form, you will find the phrase <font face="Arial, Helvetica, sans-serif" size="4"><font face="Times New Roman, Times, serif" size="5">&#8220;</font></font><font face="Verdana">MS 
  DOS Version <b>6</b> (C)Copyright 1981-<b>1993</b></font><font face="Arial" size="4"><font face="Verdana"><font face="Times New Roman, Times, serif" size="5">&#8221;</font></font></font> 
  beginning at offset <b> <font face="Courier New, Courier, mono"> <font size="5"> 
  2de7</font></font></b> hex. You can also find Its embedded 512-byte floppy disk 
  Boot Record at offset <b><font face="Courier New, Courier, mono" size="5">2f75</font></b> 
  hex in the unpacked file.</font></p>
<p><a name="62"></a><br>
</p>
<p><b><u><font face="Times New Roman, Times, serif" size="5">MS-DOS 6.2 and 6.22</font></u></b><br>
  <br>
  <font face="Arial, Helvetica, sans-serif" size="4">Both of these SYS programs 
  are packed with PKLITE 1.15 and expand to a size of 13,824 bytes. Each contains 
  the phrase <font face="Arial, Helvetica, sans-serif" size="4"><font face="Times New Roman, Times, serif" size="5">&#8220;</font></font><font face="Verdana">DOS 
  Version <b>6</b> (C)Copyright 1981-</font><font face="Arial" size="4"><font face="Verdana"><font face="Times New Roman, Times, serif" size="5">&#8221;</font></font></font> 
  with version 6.2 ending in <font face="Verdana"><b>1993</b></font> and version 
  6.22 ending in <font face="Verdana"><b>1994</b></font> in their unpacked files. 
  The embedded floppy disk boot record is found at offsets <font face="Courier New, Courier, mono"> 
  <font size="5"> <b>2fb5</b></font></font> hex through <b><font face="Courier New, Courier, mono" size="5">31b4</font></b> 
  hex for both versions (in the <i>unpacked</i> files).</font></p>
<a name="70"></a><br>
<p><font face="Times New Roman, Times, serif"><b><u><font size="5">Windows 95</font></u></b>(A)</font><br>
  <br>
  <font face="Arial, Helvetica, sans-serif" size="4">The Windows 95 SYS.COM file 
  contains the DOS Copyright phrase: <font face="Times New Roman, Times, serif" size="5">&#8220;</font><font face="Verdana, Arial, Helvetica, sans-serif">MS-<b>DOS 
  Version 7</b> (C)Copyright 1981-<b>1995</b></font></font><font face="Arial" size="4"><font face="Verdana"><font face="Times New Roman, Times, serif" size="5">&#8221;</font></font></font> 
  <font face="Arial, Helvetica, sans-serif" size="4">starting at offset <b><font face="Courier New, Courier, mono" size="5">16ec</font></b> 
  hex. The embedded floppy disk Boot Record is found at offsets <b><font face="Courier New, Courier, mono" size="5">28f8</font></b> 
  hex through <b><font face="Courier New, Courier, mono" size="5">2af7</font></b> 
  hex which had the very first OEM ID <i>without</i> the letters DOS in it ( <b><font face="Verdana, Arial, Helvetica, sans-serif">MSWIN4.0</font></b> 
  ). </font></p>
<br>
  <a name="71"></a>
<br>
<b><u><font face="Times New Roman, Times, serif" size="5">Windows 95B, 98 
and 98 SE</font></u></b><br>
<br>
<p><font face="Arial, Helvetica, sans-serif" size="4"> All three of these Windows 
  OS versions contain the same exact <b>DOS</b> <i>Copyright phrase</i> as the 
  one found in the original Windows 95 SYS.COM file showing that DOS was far from 
  being <i>dead;</i> &nbsp;it still existed in many different files inside all 
  of these Windows Operating Systems including Windows ME. The OEM ID for all 
  of the boot records embedded in these versions is <b><font face="Verdana, Arial, Helvetica, sans-serif">MSWIN4.1</font></b>.</font></p>
<p><font face="Arial, Helvetica, sans-serif" size="4">Beginning with Windows 95 "B" (which 
  introduced the 32-bit FAT file system), every SYS.COM file <b>clearly</b> contains 
  <b>two</b> <i>different</i> and complete copies of that particular OS version's 
  Boot Record: The first is used for FAT12 and FAT16 file systems on either floppy 
  or hard disks. The second is for just the FAT32 file system on hard disks only. 
  The Floppy Disk Boot Record has, of course, always been 512 bytes in length, 
  but beginning with Windows 95B (and FAT32) the size of the Hard Disk Boot Record 
  increased to 1,536 bytes (or three whole sectors); even though most of the second 
  sector is nothing but zeros. <br>
  </font></p>
<p><br>
  <a name="80"></a><br>
  <b><u><font face="Times New Roman, Times, serif" size="5">Windows ME (Millennium 
  Edition)</font></u></b><br>
  <br>
</p>
<p><font face="Arial" size="4">Windows ME contains the phrase <font face="Arial, Helvetica, sans-serif" size="4"><font face="Times New Roman, Times, serif" size="5">&#8220;</font></font><font face="Verdana"><b>MS-DOS 
  Version 8</b> (C)Copyright 1981-<b>1999</b><font face="Times New Roman, Times, serif" size="5">&#8221;</font></font> 
  and <i>functions</i> much different than previous versions of this program. 
  If you enter <font face="Verdana" size="4"><b>SYS /?</b></font> at a DOS prompt, 
  it responds with:</font></p>
<div align="center">
<table bgcolor="#000000" cellpadding="7">
<tbody><tr><td>
        <pre><font color="#cccccc" face="Courier New, Courier, mono" size="2"><b>Restores Windows boot file, IO.SYS, to drive C:.

SYS C:

  C:     Specifies the drive the files are to be copied to. Must be C:</b>
</font></pre>
      </td></tr></tbody></table>
  <br>
</div>
<p><font face="Arial" size="4">And attempting to SYS a floppy disk using "
<font face="Verdana"><b>sys a:</b></font> " causes Win ME's SYS program to 
respond with:</font></p>
<div align="center">
  <table bgcolor="#000000" cellpadding="20">
    <tbody><tr><td>
        <pre><font color="#ffffff" face="Courier New, Courier, mono" size="2">   <b><font color="#cccccc">You can only SYS drive C: to try and repair the boot hard disk.
   Use the Startup Disk option in Add/Remove programs to create
   an emergency boot disk.</font></b></font></pre>
      </td></tr></tbody></table></div><br>
<p><font face="Arial" size="4">In light of this restriction, it might seem weird 
  that a FAT12/FAT16 Boot Record is still inside its SYS program. One would <i>not</i> 
  normally be using Win ME on a hard drive that's small enough (under 512 binary 
  MB) to require a FAT16 boot record, but it's still here if you do.</font></p>
<p><font face="Arial" size="4">I guess there are some people who still want to 
  continue using FAT16 on their hard drives rather than switching to FAT32, but 
  they are limited to a capacity of only 2047 binary MB (or about 2 GB) per partition 
  and must use a very wasteful cluster size of 32 KB in order to do so! Before 
  FAT32 was available, I had always tried to keep my partitions under 256 binary 
  MB so I could use a cluster size of only 4 KB (which is what you'll normally 
  end up with when using FAT32 on drives in the Gigabytes). </font><font face="Arial, Helvetica, sans-serif" size="4">For 
  those doing dual-booting on their computers who use <u>FAT32 and NTFS</u> <i>or</i> 
  <u>FAT32 and Linux</u> file systems on the same drive, it used to make sense 
  to have a small FAT16 partition near the beginning of a large hard disk in order 
  to swap files between the operating systems. However, with the release of Windows 
  2000 (also known as Win<b>2k</b> or NT<b>5</b>), the need for a FAT16 partition 
  is far less likely these days. Why? Because almost every Linux distribution 
  available today can access and write to a FAT32 partition, and so can Windows 
  2000 / XP.</font><font face="Arial, Helvetica, sans-serif"><br>
  <br>
  </font></p>
<p>&nbsp;</p>
<font face="Verdana" size="5"><i><font face="Verdana, Arial, Helvetica, sans-serif">Last 
Update:</font></i> <font face="Verdana, Arial, Helvetica, sans-serif"><b>August 
20, 2003</b>.</font></font> 
<hr>
<p align="center"><b><font face="Arial">You can write to me using this: <a href="http://www.geocities.com/thestarman3/Feedback.html" target="SISTER">online 
  reply form</a>. </font> (It opens in a new window.)</b><font size="5"><br>
  <br>
  <img src="SYSCOM_files/left.gif" height="14" width="33"> <a href="http://www.geocities.com/thestarman3/index.html"><b><font face="Times New Roman, Times, serif">The Starman's 
  Realm Index Page</font></b></a></font></p>
<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><!-- text below generated by server. PLEASE REMOVE -->
<script language="JavaScript" src="SYSCOM_files/div.js"></script><div style="left: 827px; visibility: hidden;" id="y_gc_div_adcntr" class="y_gcss_ovrtr_cntr"><div style="left: 827px; visibility: hidden;" id="y_gc_div_mast" class="y_gcss_ovrtr_msthd"><a href="http://geocities.yahoo.com/"><img src="SYSCOM_files/geo_mast_small2.gif" alt="Yahoo! GeoCities" border="0" height="15" hspace="4" vspace="4" width="141"></a><img src="SYSCOM_files/space.gif" height="1" width="7"><a href="javascript:;" onmousedown="maximizeAu('y_gc_div_au1')" ;=""><img src="SYSCOM_files/geo_ad_dwn_widg2.gif" border="0" height="13" hspace="2" vspace="6" width="14"></a><a href="javascript:;" onclick="closeAu('y_gc_div_adcntr')" ;=""><img src="SYSCOM_files/geo_ad_close_widg2.gif" border="0" height="13" hspace="2" vspace="6" width="14"></a></div><div style="left: 827px; visibility: hidden;" id="y_gc_div_au1" class="y_gcss_ovrtr_au"><a href="http://geocities.yahoo.com/"><img src="SYSCOM_files/geo_mast_small2.gif" alt="Yahoo! GeoCities" border="0" height="15" hspace="4" vspace="4" width="141"></a><img src="SYSCOM_files/space.gif" height="1" width="7"><a href="javascript:;" onmousedown="minimizeAu('y_gc_div_au1')" ;=""><img src="SYSCOM_files/geo_ad_up_widg2.gif" border="0" height="13" hspace="2" vspace="6" width="14"></a><a href="javascript:;" onclick="closeAu('y_gc_div_adcntr')" ;=""><img src="SYSCOM_files/geo_ad_close_widg2.gif" border="0" height="13" hspace="2" vspace="6" width="14"></a><div class="y_gcss_ovrtr_au_cbox"><iframe border="0" marginwidth="0" marginheight="0" hspace="10" vspace="0" src="SYSCOM_files/h.htm" frameborder="0" height="440" scrolling="no" width="175"></iframe></div></div></div><script language="JavaScript" src="SYSCOM_files/mc.js"></script><script language="JavaScript" src="SYSCOM_files/geov2.js"></script><script language="javascript">geovisit();</script><img src="SYSCOM_files/visit.gif" border="0">
<noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1107136423" alt="setstats" border="0" width="1" height="1"></noscript>
<img src="SYSCOM_files/serv.gif" alt="1" height="1" width="1">
</body></html>